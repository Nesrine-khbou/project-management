<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6">
  <!-- Search -->
  <input
    type="text"
    placeholder="Rechercher un projet..."
    [(ngModel)]="searchTerm"
    class="border rounded-lg px-3 py-2 w-full md:w-1/2 focus:outline-none focus:ring-2 focus:ring-blue-400"
  />

  <!-- Filter by status -->
  <select
    [(ngModel)]="statusFilter"
    class="border rounded-lg px-3 py-2 w-full md:w-1/4 focus:outline-none focus:ring-2 focus:ring-blue-400"
  >
    <option value="">Tous les statuts</option>
    <option value="En cours">En cours</option>
    <option value="En attente">En attente</option>
    <option value="Terminé">Terminé</option>
  </select>
</div>

<!-- Project List -->
<div class="space-y-6">
  @if (filteredProjects.length > 0) {
  @for (project of filteredProjects; track project.name) {
    <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300">
      <!-- Project Header -->
      <div class="flex items-start justify-between mb-4">
        <div>
          <h2 class="text-xl font-semibold text-gray-900 mb-1">{{ project.name }}</h2>
          <p class="text-gray-600 text-sm leading-relaxed">{{ project.description }}</p>
        </div>
        <span
          class="px-3 py-1 text-xs font-medium rounded-full"
          [ngClass]="{
            'bg-green-100 text-green-700': project.status === 'Terminé',
            'bg-yellow-100 text-yellow-700': project.status === 'En cours',
            'bg-gray-100 text-gray-700': project.status !== 'Terminé' && project.status !== 'En cours'
          }"
        >
          {{ project.status }}
        </span>
      </div>

      <!-- Task List -->
      <app-task-list [tasks]="project.tasks"></app-task-list>
    </div>
  }
  } @else {
    <p class="text-gray-500 text-center py-6 italic">
      Aucun projet trouvé.
    </p>
  }
</div>
