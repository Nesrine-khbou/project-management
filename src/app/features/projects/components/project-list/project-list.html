<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-6">
  <!-- Search -->
  <input
    type="text"
    placeholder="Rechercher un projet..."
    [(ngModel)]="searchTerm"
    class="border rounded-lg px-3 py-2 w-full md:w-1/2 focus:outline-none focus:ring-2 focus:ring-blue-400
           bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700
           text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"
  />

  <!-- Filter by status -->
  <select
    [(ngModel)]="statusFilter"
    class="border rounded-lg px-3 py-2 w-full md:w-1/4 focus:outline-none focus:ring-2 focus:ring-blue-400
           bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700
           text-gray-900 dark:text-gray-100"
  >
    <option value="">Tous les statuts</option>
    <option value="En cours">En cours</option>
    <option value="En attente">En attente</option>
    <option value="Terminé">Terminé</option>
  </select>
</div>

<!-- Add project button -->
<button
  (click)="toggleAddForm()"
  class="mt-3 mb-5 md:mt-0 bg-sky-100 dark:bg-sky-900 hover:bg-sky-200 dark:hover:bg-sky-800
         text-sky-700 dark:text-sky-200 border border-sky-200 dark:border-sky-700
         font-semibold px-4 py-2 rounded-lg shadow-sm hover:shadow-md
         transition-all duration-300 ease-in-out"
>
  + Ajouter projet
</button>


<!-- Show AddProject form -->
@if (showAddForm) {
  <app-add-project
    (projectAdded)="addProject($event)"
    (cancel)="toggleAddForm()"
  ></app-add-project>
}

<!-- Project List -->
<div class="space-y-6">
  @if (filteredProjects.length > 0) {

    @for (project of filteredProjects; track project.name) {
        <app-project-card [project]="project"  (taskAdded)="addTaskToProject($event)"
></app-project-card>
      }
    
  } @else {
    <p class="text-gray-500 dark:text-gray-400 text-center py-6 italic">
      Aucun projet trouvé.
    </p>
  }
</div>
