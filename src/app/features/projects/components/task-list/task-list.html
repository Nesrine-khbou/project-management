<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-3">
  <input
    type="text"
    placeholder="Rechercher une tâche..."
    [(ngModel)]="taskSearch"
    class="border rounded-lg px-2 py-1 w-full md:w-1/2"
  />

  <select [(ngModel)]="taskStatusFilter" class="border rounded-lg px-2 py-1">
    <option value="">Tous les statuts</option>
    <option value="En attente">En attente</option>
    <option value="En cours">En cours</option>
    <option value="Terminé">Terminé</option>
  </select>
</div>

<ul class="space-y-3 mt-4">
  @if (filteredTasks.length > 0) {
  @for (task of filteredTasks; track task.title) {
    <li class="bg-gray-50 rounded-xl p-4 flex items-center justify-between border border-gray-200 hover:bg-gray-100 transition-colors duration-300">
      <div>
        <p class="text-gray-900 font-medium text-sm md:text-base">{{ task.title }}</p>
        <p class="text-gray-500 text-xs mt-1">
          Priorité :
          <span class="font-semibold text-gray-700">{{ task.priority }}</span>
        </p>
      </div>

      <span
        class="px-3 py-1 text-xs font-semibold rounded-full"
        [ngClass]="{
          'bg-red-100 text-red-700': task.status === 'En attente',
          'bg-yellow-100 text-yellow-700': task.status === 'En cours',
          'bg-green-100 text-green-700': task.status === 'Terminé'
        }"
      >
        {{ task.status }}
      </span>
    </li>
  }
    } 
  @else {
    <li class="text-gray-500 text-center py-4 italic">
      Aucune tâche trouvée.
    </li>
  }
</ul>
